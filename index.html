<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Travel Planner - Home</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<style>
body {
  margin:0;
  font-family:'Inter',sans-serif;
  background: linear-gradient(120deg,#d0e8ff,#f0e0ff);
  color:#1a1a1a;
}
.container{max-width:1400px;margin:auto;padding:20px;}
header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;}
header h1{font-size:1.8rem;color:#004080;}
button{cursor:pointer;border:none;border-radius:8px;padding:10px 16px;font-weight:600;background: linear-gradient(90deg,#4a90e2,#8e44ad);color:white;transition:0.3s;}
button:hover{opacity:0.85; transform:scale(1.05);}
.trips-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:20px;}
.trip-card{
  position:relative;
  background: linear-gradient(135deg,#4a90e2,#8e44ad);
  border-radius:20px; padding:20px; color:white; box-shadow:0 10px 25px rgba(0,0,0,0.15);
  display:flex; flex-direction:column; justify-content:space-between; cursor:pointer;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}
.trip-card:hover{transform:scale(1.03); box-shadow:0 15px 35px rgba(0,0,0,0.25);}
.trip-title{font-size:1.4rem;font-weight:700;margin-bottom:10px;}
.trip-info{font-size:0.95rem;margin-bottom:5px;}
.progress-bar{height:10px;border-radius:8px;background:rgba(255,255,255,0.3);overflow:hidden;margin-top:10px;}
.progress-fill{height:100%;background:linear-gradient(90deg,#00c6ff,#f0e0ff);width:0%;transition:width 0.8s ease;}
.progress-circle{position:absolute; top:20px; right:20px;}
.progress-circle circle{fill:none;stroke-width:5;}
.progress-text{fill:white;font-size:14px;font-weight:700;text-anchor:middle;}
</style>
</head>
<body>
<div class="container">
  <header>
    <h1>My Trips</h1>
    <button onclick="createTrip()">+ New Trip</button>
  </header>
  <div class="trips-grid" id="trips-grid"></div>
</div>

<script>
// Trips from localStorage
let trips=JSON.parse(localStorage.getItem('trips'))||[];

// Render trips
function renderTrips(){
  const grid=document.getElementById('trips-grid');
  grid.innerHTML="";
  trips.forEach((t,i)=>{
    const card=document.createElement('div');
    card.className="trip-card";
    const circleRadius=28;
    const circumference=2*Math.PI*circleRadius;
    const offset=circumference*(1-(t.progress||0)/100);

    card.innerHTML=`
      <div class="trip-title">${t.title}</div>
      <div class="trip-info">Date: ${t.date}</div>
      <div class="trip-info">Participants: ${t.participants}</div>
      <div class="progress-bar"><div class="progress-fill" style="width:${t.progress||0}%"></div></div>
      <svg class="progress-circle" width="60" height="60">
        <circle cx="30" cy="30" r="${circleRadius}" stroke="rgba(255,255,255,0.3)"></circle>
        <circle cx="30" cy="30" r="${circleRadius}" stroke="#00c6ff" stroke-dasharray="${circumference}" stroke-dashoffset="${offset}" style="transition: stroke-dashoffset 0.8s ease;"></circle>
        <text x="30" y="35" class="progress-text">${t.progress||0}%</text>
      </svg>
    `;
    card.onclick=()=>openTrip(i);
    grid.appendChild(card);
  });
}

// Create new trip
function createTrip(){
  const title=prompt("Enter trip title:");
  if(!title) return;
  const date=prompt("Enter trip date (YYYY-MM-DD):","2025-07-01");
  const participants=parseInt(prompt("Number of participants:", "2"))||2;
  trips.push({title,date,participants,progress:0,cards:[]});
  localStorage.setItem('trips',JSON.stringify(trips));
  renderTrips();
}

// Open Pro board
function openTrip(index){
  window.location.href=`board.html?tripId=${index}`;
}

renderTrips();
</script>
</body>
</html>
